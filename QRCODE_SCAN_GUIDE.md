# 二维码扫码使用指南

## 已生成可扫描的二维码! ✅

二维码文件: `game-qrcode.png`

## 如何使用

### 方法 1: 直接扫描屏幕上的二维码

1. **打开二维码图片**:
   - 在文件管理器中找到 `cave-exploration-game/game-qrcode.png`
   - 双击打开图片

2. **使用手机扫描**:
   - 打开手机相机或微信扫一扫
   - 对准电脑屏幕上的二维码
   - 点击弹出的链接

3. **开始游戏**:
   - 手机浏览器会自动打开游戏
   - 输入姓名开始玩

### 方法 2: 打印二维码

1. **打印二维码**:
   - 右键点击 `game-qrcode.png`
   - 选择"打印"
   - 推荐打印尺寸: 10cm x 10cm 或更大

2. **张贴二维码**:
   - 可以贴在展示区域
   - 供多人扫描使用

3. **扫描游玩**:
   - 用户使用手机扫描打印的二维码
   - 即可开始游戏

### 方法 3: 分享二维码图片

1. **发送图片**:
   - 将 `game-qrcode.png` 发送给其他人
   - 可以通过微信、QQ、邮件等方式

2. **接收者扫描**:
   - 在手机上打开图片
   - 长按图片选择"识别图中二维码"
   - 或者保存图片后用扫一扫功能扫描

## 重新生成二维码

如果你的 IP 地址变了(比如重新连接 WiFi),需要重新生成二维码:

```bash
cd cave-exploration-game
node generate-qrcode.js
```

这会生成新的 `game-qrcode.png` 文件,包含最新的 IP 地址。

## 二维码内容

当前二维码包含的地址:
```
http://192.168.3.170:5174
```

这是你电脑在局域网中的地址,同一 WiFi 下的手机可以访问。

## 使用场景

### 1. 个人使用
- 在电脑屏幕上显示二维码
- 用手机扫描即可在手机上玩

### 2. 展示/演示
- 打印二维码贴在展示区
- 观众扫码即可体验游戏

### 3. 多人游戏
- 一个二维码可以被多人扫描
- 每个人输入自己的姓名
- 完成后可以查看排行榜

### 4. 教学/培训
- 在课堂上展示二维码
- 学生扫码参与答题
- 实时查看排名

## 注意事项

### ✅ 必须满足的条件

1. **前端和后端服务器正在运行**:
   ```bash
   # 后端
   cd cave-exploration-game/backend
   npm start

   # 前端
   cd cave-exploration-game/frontend
   npm run dev -- --host
   ```

2. **手机和电脑在同一 WiFi 网络**:
   - 检查手机连接的 WiFi 名称
   - 确保与电脑连接的 WiFi 相同

3. **防火墙允许访问**:
   - Windows 防火墙可能会阻止访问
   - 如果无法访问,参考 `MOBILE_SUPPORT.md` 配置防火墙

### ⚠️ 常见问题

**Q: 扫码后显示"无法访问"**

A: 检查以下几点:
1. 前端和后端服务器是否正在运行
2. 手机和电脑是否在同一 WiFi
3. 电脑防火墙是否允许端口 5174 和 3000

**Q: 二维码无法识别**

A: 可能的原因:
1. 图片太小或模糊 - 放大图片或重新生成
2. 光线不足 - 调整光线
3. 二维码损坏 - 重新生成

**Q: IP 地址变了怎么办?**

A: 重新运行生成脚本:
```bash
node generate-qrcode.js
```

## 技术细节

### 二维码生成方式
- 使用 QR Server API 生成
- API 地址: https://api.qrserver.com/v1/create-qr-code/
- 图片尺寸: 500x500 像素
- 颜色: 深紫色 (#2d1b3d) + 白色背景

### 二维码内容
- 类型: URL
- 内容: 游戏访问地址 (http://[IP]:5174)
- 纠错级别: 中等 (M)

### 自动获取 IP
脚本会自动检测你的局域网 IP 地址:
- 遍历所有网络接口
- 找到 IPv4 非内部地址
- 生成包含该 IP 的二维码

## 快速开始

### 完整流程

1. **启动服务器**:
   ```bash
   # 终端 1 - 后端
   cd cave-exploration-game/backend
   npm start

   # 终端 2 - 前端
   cd cave-exploration-game/frontend
   npm run dev -- --host
   ```

2. **生成二维码**:
   ```bash
   # 终端 3
   cd cave-exploration-game
   node generate-qrcode.js
   ```

3. **打开二维码**:
   - 双击 `game-qrcode.png`

4. **扫描游玩**:
   - 用手机扫描屏幕上的二维码
   - 开始游戏!

## 总结

现在你有了一个可以直接扫描的二维码图片 (`game-qrcode.png`),可以:

- ✅ 在电脑屏幕上显示供手机扫描
- ✅ 打印出来贴在展示区域
- ✅ 分享给其他人扫描
- ✅ 多人同时扫描使用

只要确保服务器在运行,手机和电脑在同一 WiFi,就可以通过扫码畅玩游戏了! 🎉
